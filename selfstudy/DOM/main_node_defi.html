<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .button{
          width : 150px;
          margin-right: 50px;  
        }



    </style>
    
    
</head>
<body>
    <div id = "bodyStart">
        <input name = "sno" id = "insert" class = "button" type = "button" value = "등록"><input id = "delete" class = "button" type = "button" value = "삭제"><br>
        <label for = "sNo">학번<input  id = "sNo" type ="text" value = "4"></label><br>
        <label for = "sName">이름<input id = "sName" type ="text" value = "박길동"></label><br>
        <label for = "kScore">국어점수<input id = "kScore" type ="text" value = "50"></label><br>
        <label for = "mScore">수학점수<input id = "mScore" type ="text" value = "50"></label><br>
        <label for = "eScore">영어점수<input id = "eScore" type ="text" value = "50"></label><br>
        
        <form>
        <table border = "1">
            <thead>
                <tr>
                    <th>1번항목</th>
                    <th>2번항목</th>
                    <th>3번항목</th>
                    <th>4번항목</th>
                    <th>5번항목</th>
                    <th>삭제</th>
                </tr>
            </thead>
            <tbody id = "body">
  
            </tbody>

        </table>
    </form>
    </div>
    
</body>
<script>
    //let sno = document.querySelector('input[name="no"]').value;
    //console.log(document.querySelector('input[name="no"]').value);
    let delBtn = document.getElementById('delete');
    delBtn.addEventListener('click',function(){
        let allTr = document.querySelectorAll('tbody>tr');
        console.log(typeof allTr); 
        console.log(allTr); //tr 요소가 배열형태로 alltr에 저장되므로 alltr.childElement 등으로 접근불가
                            //왜냐하면 alltr은 DOM 형식에서 말하는 node가 아니기 때문이다 
        allTr.forEach(function(tr){
            console.log(tr)
            console.log(tr.lastElementChild.firstElementChild)
          if (tr.lastElementChild.firstElementChild.checked==true){ //node 와 element 차이점
              tr.remove();
          }
        })
        })
    

    let insBtn = document.getElementById('insert');
    //console.log(insBtn);
    insBtn.addEventListener('click',function(){
        let sno = document.querySelector('input[id="sNo"]').value;
        let sName = document.querySelector('input[id="sName"]').value;
        let kScore = document.querySelector('input[id="kScore"]').value;
        let mScore = document.querySelector('input[id="mScore"]').value;
        let eScore = document.querySelector('input[id="eScore"]').value;

        let member = {
            no:sno,
            name:sName,
            korScore:kScore,
            mathScore:mScore,
            eScore:eScore
        }
        //console.log(member);
        makeTr(member);
    });


    function makeTr(obj){
        let body = document.getElementById('body');
        let tr = document.createElement('tr')
        body.appendChild(tr)
        for(field in obj){
            let td = document.createElement('td')
            td.innerHTML = obj[field];
            tr.appendChild(td)
        }
        let td2 = document.createElement('td')
        let delcheck = document.createElement('input')
        delcheck.setAttribute('type','checkbox')
        delcheck.setAttribute('class','check')
        td2.appendChild(delcheck);
        tr.appendChild(td2);
        //console.log(body)
    }



    
</script>
</html>